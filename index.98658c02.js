var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},l=e.parcelRequire31ee;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in a){var l=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,l.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequire31ee=l);var i=l("8JYDX"),o=l("F1Hgz"),s=l("lsWS8");s=l("lsWS8");const n=async()=>{if(!await(0,s.hasPrivateKey)())return globalThis.confirm("Welcome. This is experimental. Are you ready to get wild?")?void globalThis.alert("Right click if you want to add something to the map. Have fun."):(globalThis.alert("Then we'll take you back to the safety of trustroots"),void(globalThis.location.href="http://www.trustroots.org/search"))};var r=l("dgphM");(async()=>{const e=await(0,s.hasPrivateKey)(),t=i.DomUtil.get("loggedIn"),a=i.DomUtil.get("loggedOut");if(e){i.DomUtil.addClass(t,"show"),i.DomUtil.addClass(a,"hide");document.getElementById("signout").onclick=async()=>{await(0,s.unsetPrivateKey)(),globalThis.location.reload()};await(0,s.getPublicKey)();const e=await(0,s.getNpubPublicKey)(),l=await(0,s.getNsecPrivateKey)();globalThis.document.getElementById("npubPublicKey").innerText=e;globalThis.document.getElementById("nsecPrivateKey").innerText=l}else{i.DomUtil.addClass(t,"hide"),i.DomUtil.addClass(a,"show");document.getElementById("signup").onclick=()=>{(0,r.startUserOnboarding)()}}const l=document.getElementById("relays"),d=await(0,o.getRelays)(),c=JSON.stringify(d);l.value=c;const g=document.getElementById("relays_submit");g.onclick=async e=>{e.preventDefault(),g.setAttribute("disabled","disabled");const t=l.value;try{const e=JSON.parse(t);if(!Array.isArray(e)||0===e.length)return g.removeAttribute("disabled"),void globalThis.alert("Invalid relays submitted. Please try again.");await(0,o.setRelays)({relays:e}),globalThis.alert("Relays saved."),globalThis.document.location.reload()}catch(e){g.removeAttribute("disabled"),globalThis.alert(`#vRuf1N Error saving relays\n${e.toString()}`)}},n()})();
//# sourceMappingURL=index.98658c02.js.map
